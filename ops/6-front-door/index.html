
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A workshop for Operations and Development teams on ARO.">
      
      
        <meta name="author" content="Red Hat">
      
      
        <link rel="canonical" href="https://ws.verynicecluster.cloud/ops/6-front-door/">
      
      <link rel="icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.9">
    
    
      
        <title>6 front door - ARO Workshop</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.08040f6c.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Overpass:300,300i,400,400i,700,700i%7COverpass+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Overpass";--md-code-font:"Overpass Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="red">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#install-and-configure-azure-front-door-for-our-application" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ARO Workshop" class="md-header__button md-logo" aria-label="ARO Workshop" data-md-component="logo">
      
  <img src="../../favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ARO Workshop
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              6 front door
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/bizquigs/aro-workshop-content" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    bizquigs/aro-hackathon-content
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ARO Workshop" class="md-nav__button md-logo" aria-label="ARO Workshop" data-md-component="logo">
      
  <img src="../../favicon.ico" alt="logo">

    </a>
    ARO Workshop
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/bizquigs/aro-workshop-content" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    bizquigs/aro-hackathon-content
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Workshop Setup
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Workshop Setup" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Workshop Setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../general/1-workshop-setup/" class="md-nav__link">
        Azure portal and CLI setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../1-3-get-credentials/" class="md-nav__link">
        Retieve ARO Cluster Credentials
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Prepare the Cluster and Evironment
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Prepare the Cluster and Evironment" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Prepare the Cluster and Evironment
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../3-deploy-azure-service-operator/" class="md-nav__link">
        Azure Service Operator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2-5-deploy-cosmos/" class="md-nav__link">
        Deploy Cosmos Database
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Managing Worker Nodes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Managing Worker Nodes" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Managing Worker Nodes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2-4-label-nodes/" class="md-nav__link">
        Label Nodes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Deploy an Application
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Deploy an Application" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Deploy an Application
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../app/2-1-deploy-frontend/" class="md-nav__link">
        Deploy the frontend
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../app/2-2-deploy-backend/" class="md-nav__link">
        Deploy the backend
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Make the application resilent
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Make the application resilent" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Make the application resilent
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2-3-autoscaling.md" class="md-nav__link">
        Setup cluster autoscaling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../app/3-scale-app/" class="md-nav__link">
        Make Applications Resilient
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          ARO Day X Operations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="ARO Day X Operations" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          ARO Day X Operations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../day2/upgrades/" class="md-nav__link">
        Managing Upgrades
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#install-and-configure-azure-front-door-for-our-application" class="md-nav__link">
    Install and Configure Azure Front Door for our Application
  </a>
  
    <nav class="md-nav" aria-label="Install and Configure Azure Front Door for our Application">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-private-link-service-targeting-the-worker-subnets" class="md-nav__link">
    Create a private link service targeting the worker subnets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-dns" class="md-nav__link">
    Update DNS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#congratations" class="md-nav__link">
    Congratations!!
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/bizquigs/aro-workshop-content/edit/master/docs/ops/6-front-door.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


  <h1>6 front door</h1>

<h2 id="install-and-configure-azure-front-door-for-our-application">Install and Configure Azure Front Door for our Application<a class="headerlink" href="#install-and-configure-azure-front-door-for-our-application" title="Permanent link">#</a></h2>
<p>The first step is to export three environment variables for the Resource Group ARO is in, the ARO Cluster name, both of which are the same as the USERID.  We will set these variables for readability purposes.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nb">echo</span> <span class="s1">&#39;export ARORG=$USERID&#39;</span> &gt;&gt; ~/.bashrc <span class="o">&amp;&amp;</span> <span class="nb">source</span> ~/.bashrc
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="nb">echo</span> <span class="s1">&#39;export AROCLUSTER=$USERID&#39;</span> &gt;&gt; ~/.bashrc <span class="o">&amp;&amp;</span> <span class="nb">source</span> ~/.bashrc
</code></pre></div>
<p>Next we, need to get the name of the VNET ARO is in</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nb">echo</span> <span class="s2">&quot;export VNET_NAME=</span><span class="k">$(</span>az network vnet list -g <span class="nv">$ARORG</span> --query <span class="s1">&#39;[0].name&#39;</span> -o tsv<span class="k">)</span><span class="s2">&quot;</span> &gt;&gt; ~/.bashrc <span class="o">&amp;&amp;</span> <span class="nb">source</span> ~/.bashrc
</code></pre></div>
<p>Provide a subnet prefix for the private link subnet.  This subnet will contain the private link service we will use to connect Front Door with ARO.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nb">echo</span> <span class="s2">&quot;export PRIVATEENDPOINTSUBNET_PREFIX=10.0.5.0/24&quot;</span> &gt;&gt; ~/.bashrc <span class="o">&amp;&amp;</span> <span class="nb">source</span> ~/.bashrc
</code></pre></div>
<p>Give the private link subnet a meaningful name</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nb">echo</span> <span class="s2">&quot;export PRIVATEENDPOINTSUBNET_NAME=PrivateEndpoint-subnet&quot;</span> &gt;&gt; ~/.bashrc <span class="o">&amp;&amp;</span> <span class="nb">source</span> ~/.bashrc
</code></pre></div>
<p>Create a unique random number so we don't create services with the same name</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nb">echo</span> <span class="s2">&quot;export UNIQUE=</span><span class="nv">$RANDOM</span><span class="s2">&quot;</span> &gt;&gt; ~/.bashrc <span class="o">&amp;&amp;</span> <span class="nb">source</span> ~/.bashrc
</code></pre></div>
<p>Provide a unique name for the Azure Front Door Service we will create</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nb">echo</span> <span class="s2">&quot;export AFD_NAME=</span><span class="nv">$UNIQUE</span><span class="s2">-afd&quot;</span> &gt;&gt; ~/.bashrc <span class="o">&amp;&amp;</span> <span class="nb">source</span> ~/.bashrc
</code></pre></div>
<p>Get the ARO Cluster Resource Group name.  Note this the name of the resource group that the ARO service creates and manages.  This is the resource group that contains all the VMs, Storage, Load Balancers, etc that ARO manages.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nb">echo</span> <span class="s2">&quot;export ARO_RGNAME=</span><span class="k">$(</span>az aro show -n <span class="nv">$AROCLUSTER</span> -g <span class="nv">$ARORG</span> --query <span class="s1">&#39;clusterProfile.resourceGroupId&#39;</span> -o tsv <span class="p">|</span> sed <span class="s1">&#39;s/.*\///&#39;</span><span class="k">)</span><span class="s2">&quot;</span> &gt;&gt; ~/.bashrc <span class="o">&amp;&amp;</span> <span class="nb">source</span> ~/.bashrc
</code></pre></div>
<p>Get the Azure location of the ARO cluster</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nb">echo</span> <span class="s2">&quot;export LOCATION=</span><span class="k">$(</span>az aro show --name <span class="nv">$AROCLUSTER</span> --resource-group <span class="nv">$ARORG</span> --query location -o tsv<span class="k">)</span><span class="s2">&quot;</span> &gt;&gt; ~/.bashrc <span class="o">&amp;&amp;</span> <span class="nb">source</span> ~/.bashrc
</code></pre></div>
<p>Get the workers nodes subnet name and IDs so we can connect the Azure Front Door to the workers nodes using a private link service.
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nb">echo</span> <span class="s2">&quot;export WORKER_SUBNET_NAME=</span><span class="k">$(</span>az aro show --name <span class="nv">$AROCLUSTER</span> --resource-group <span class="nv">$ARORG</span> --query <span class="s1">&#39;workerProfiles[0].subnetId&#39;</span> -o tsv <span class="p">|</span> sed <span class="s1">&#39;s/.*\///&#39;</span><span class="k">)</span><span class="s2">&quot;</span> &gt;&gt; ~/.bashrc <span class="o">&amp;&amp;</span> <span class="nb">source</span> ~/.bashrc
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="nb">echo</span> <span class="s2">&quot;export WORKER_SUBNET_ID=</span><span class="k">$(</span>az aro show --name <span class="nv">$AROCLUSTER</span> --resource-group <span class="nv">$ARORG</span> --query <span class="s1">&#39;workerProfiles[0].subnetId&#39;</span> -o tsv<span class="k">)</span><span class="s2">&quot;</span> &gt;&gt; ~/.bashrc <span class="o">&amp;&amp;</span> <span class="nb">source</span> ~/.bashrc
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="c1"># privatelink_id=$(az network private-link-service show -n $AROCLUSTER-pls -g $ARORG --query &#39;id&#39; -o tsv)</span>
</code></pre></div></p>
<p>Get the internal load balancer name, id and ip that the private link service will be connected to.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nb">echo</span> <span class="s2">&quot;export INTERNAL_LBNAME=</span><span class="k">$(</span>az network lb list --resource-group <span class="nv">$ARO_RGNAME</span> --query <span class="s2">&quot;[? contains(name, &#39;internal&#39;)].name&quot;</span> -o tsv<span class="k">)</span><span class="s2">&quot;</span> &gt;&gt; ~/.bashrc <span class="o">&amp;&amp;</span> <span class="nb">source</span> ~/.bashrc
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="nb">export</span> <span class="nv">LBCONFIG_ID</span><span class="o">=</span><span class="k">$(</span>az network lb frontend-ip list -g <span class="nv">$ARO_RGNAME</span> --lb-name <span class="nv">$INTERNAL_LBNAME</span> --query <span class="s2">&quot;[? contains(subnet.id,&#39;</span><span class="nv">$WORKER_SUBNET_ID</span><span class="s2">&#39;)].id&quot;</span> -o tsv<span class="k">)</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="nb">export</span> <span class="nv">LBCONFIG_IP</span><span class="o">=</span><span class="k">$(</span>az network lb frontend-ip list -g <span class="nv">$ARO_RGNAME</span> --lb-name <span class="nv">$INTERNAL_LBNAME</span> --query <span class="s2">&quot;[? contains(subnet.id,&#39;</span><span class="nv">$WORKER_SUBNET_ID</span><span class="s2">&#39;)].privateIpAddress&quot;</span> -o tsv<span class="k">)</span>
</code></pre></div>
<p>Set the following DNS variables for the workshop so we can add DNS records to the azure.mobb.cloud domain</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nv">DNS_RG</span><span class="o">=</span>shared-services
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="nv">TOP_DOMAIN</span><span class="o">=</span>ws.mobb.cloud
</code></pre></div>
<p>Set user specific domain settings.  We will be creating a new DNS zone with the DOMAIN variable.
ARO_APP_FQDN is the fully qualified url for your ratingsapp application
ARO_MINE_CUSTOM_DOMAIN_NAME is the name of the DNS entry.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nv">DOMAIN</span><span class="o">=</span><span class="nv">$USERID</span>.ws.mobb.cloud
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="nb">echo</span> <span class="s2">&quot;export ARO_APP_FQDN=ratingsapp.</span><span class="nv">$USERID</span><span class="s2">.ws.mobb.cloud&quot;</span> &gt;&gt; ~/.bashrc <span class="o">&amp;&amp;</span> <span class="nb">source</span> ~/.bashrc
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="nv">AFD_RATINGS_CUSTOM_DOMAIN_NAME</span><span class="o">=</span>ratingsapp-<span class="nv">$USERID</span>-ws-mobb-cloud
</code></pre></div>
<p>Now that we have all the required variables set, we can start creating the Front Door service and everything it needs.</p>
<h4 id="create-a-private-link-service-targeting-the-worker-subnets">Create a private link service targeting the worker subnets<a class="headerlink" href="#create-a-private-link-service-targeting-the-worker-subnets" title="Permanent link">#</a></h4>
<p>The first thing we will create is the private link service, that again is what will provide private connectivty from Front Door to your cluster.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>az network private-link-service create <span class="se">\</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>--name <span class="nv">$AROCLUSTER</span>-pls <span class="se">\</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>--resource-group <span class="nv">$ARORG</span> <span class="se">\</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>--private-ip-address-version IPv4 <span class="se">\</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>--private-ip-allocation-method Dynamic <span class="se">\</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>--vnet-name <span class="nv">$VNET_NAME</span> <span class="se">\</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>--subnet <span class="nv">$WORKER_SUBNET_NAME</span> <span class="se">\</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>--lb-frontend-ip-configs <span class="nv">$LBCONFIG_ID</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="nv">privatelink_id</span><span class="o">=</span><span class="k">$(</span>az network private-link-service show -n <span class="nv">$AROCLUSTER</span>-pls -g <span class="nv">$ARORG</span> --query <span class="s1">&#39;id&#39;</span> -o tsv<span class="k">)</span>
</code></pre></div>
<p>Create an instance of Azure Front Door and get the Front Door ID.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>az afd profile create <span class="se">\</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>--resource-group <span class="nv">$ARORG</span> <span class="se">\</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>--profile-name <span class="nv">$AFD_NAME</span> <span class="se">\</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>--sku Premium_AzureFrontDoor
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="nv">afd_id</span><span class="o">=</span><span class="k">$(</span>az afd profile show -g <span class="nv">$ARORG</span> --profile-name <span class="nv">$AFD_NAME</span> --query <span class="s1">&#39;id&#39;</span> -o tsv<span class="k">)</span>
</code></pre></div>
<p>Create a Front Door endpoint for the ARO Internal Load Balancer.  This will allow Front Door to send traffic to the ARO Load Balancer.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>az afd endpoint create <span class="se">\</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>--resource-group <span class="nv">$ARORG</span> <span class="se">\</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>--enabled-state Enabled <span class="se">\</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>--endpoint-name <span class="s1">&#39;aro-ilb&#39;</span><span class="nv">$UNIQUEID</span> <span class="se">\</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>--profile-name <span class="nv">$AFD_NAME</span>
</code></pre></div>
<p>Create a Front Door Origin Group that will point to the ARO Internal Loadbalancer
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>az afd origin-group create <span class="se">\</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>--origin-group-name <span class="s1">&#39;afdorigin&#39;</span> <span class="se">\</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>--probe-path <span class="s1">&#39;/&#39;</span> <span class="se">\</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>--probe-protocol Http <span class="se">\</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>--probe-request-type GET <span class="se">\</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>--probe-interval-in-seconds <span class="m">100</span> <span class="se">\</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>--profile-name <span class="nv">$AFD_NAME</span> <span class="se">\</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>--resource-group <span class="nv">$ARORG</span> <span class="se">\</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>--probe-interval-in-seconds <span class="m">120</span> <span class="se">\</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>--sample-size <span class="m">4</span> <span class="se">\</span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>--successful-samples-required <span class="m">3</span> <span class="se">\</span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>--additional-latency-in-milliseconds <span class="m">50</span>
</code></pre></div></p>
<p>Create a Front Door Origin with the above Origin Group that will point to the ARO Internal Loadbalancer.
Click <a href="https://docs.microsoft.com/en-us/azure/frontdoor/origin?pivots=front-door-standard-premium">here</a> to read more about Front Door Origins and Origin Groups.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>az afd origin create <span class="se">\</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>--enable-private-link <span class="nb">true</span> <span class="se">\</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>--private-link-resource <span class="nv">$privatelink_id</span> <span class="se">\</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>--private-link-location <span class="nv">$LOCATION</span> <span class="se">\</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>--private-link-request-message <span class="s1">&#39;Private link service from AFD&#39;</span> <span class="se">\</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>--weight <span class="m">1000</span> <span class="se">\</span>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>--priority <span class="m">1</span> <span class="se">\</span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>--http-port <span class="m">80</span> <span class="se">\</span>
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>--https-port <span class="m">443</span> <span class="se">\</span>
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a>--origin-group-name <span class="s1">&#39;afdorigin&#39;</span> <span class="se">\</span>
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>--enabled-state Enabled <span class="se">\</span>
<a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>--host-name <span class="nv">$LBCONFIG_IP</span> <span class="se">\</span>
<a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a>--origin-name <span class="s1">&#39;afdorigin&#39;</span> <span class="se">\</span>
<a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a>--profile-name <span class="nv">$AFD_NAME</span> <span class="se">\</span>
<a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a>--resource-group <span class="nv">$ARORG</span>
</code></pre></div>
<p>Approve the private link connection</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nv">privatelink_pe_id</span><span class="o">=</span><span class="k">$(</span>az network private-link-service show -n <span class="nv">$AROCLUSTER</span>-pls -g <span class="nv">$ARORG</span> --query <span class="s1">&#39;privateEndpointConnections[0].id&#39;</span> -o tsv<span class="k">)</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>az network private-endpoint-connection approve <span class="se">\</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>--description <span class="s1">&#39;Approved&#39;</span> <span class="se">\</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>--id <span class="nv">$privatelink_pe_id</span>
</code></pre></div>
<p>Add your custom domain to Azure Front Door</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>az afd custom-domain create <span class="se">\</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>--certificate-type ManagedCertificate <span class="se">\</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>--custom-domain-name <span class="nv">$AFD_RATINGS_CUSTOM_DOMAIN_NAME</span> <span class="se">\</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>--host-name <span class="nv">$ARO_APP_FQDN</span> <span class="se">\</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>--minimum-tls-version TLS12 <span class="se">\</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>--profile-name <span class="nv">$AFD_NAME</span> <span class="se">\</span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>--resource-group <span class="nv">$ARORG</span>
</code></pre></div>
*Note: This takes about 5 minutes</p>
<p>Add an Azure Front Door route for your custom domain</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>az afd route create <span class="se">\</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>--endpoint-name <span class="s1">&#39;aro-ilb&#39;</span><span class="nv">$UNIQUEID</span> <span class="se">\</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>--forwarding-protocol HttpOnly <span class="se">\</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>--https-redirect Enabled <span class="se">\</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>--origin-group <span class="s1">&#39;afdorigin&#39;</span> <span class="se">\</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>--profile-name <span class="nv">$AFD_NAME</span> <span class="se">\</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>--resource-group <span class="nv">$ARORG</span> <span class="se">\</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>--route-name <span class="s1">&#39;aro-ratings-route&#39;</span> <span class="se">\</span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>--supported-protocols Http Https <span class="se">\</span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>--patterns-to-match <span class="s1">&#39;/*&#39;</span> <span class="se">\</span>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>--custom-domains <span class="nv">$AFD_RATINGS_CUSTOM_DOMAIN_NAME</span>
</code></pre></div>
<h4 id="update-dns">Update DNS<a class="headerlink" href="#update-dns" title="Permanent link">#</a></h4>
<p>Now that we have Front Door setup and configured, we need to setup DNS to work with the front door endpoint.</p>
<p>Get a validation token from Front Door so Front Door can validate your domain</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="nv">afdToken</span><span class="o">=</span><span class="k">$(</span>az afd custom-domain show <span class="se">\</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>--resource-group <span class="nv">$ARORG</span> <span class="se">\</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>--profile-name <span class="nv">$AFD_NAME</span> <span class="se">\</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>--custom-domain-name <span class="nv">$AFD_RATINGS_CUSTOM_DOMAIN_NAME</span> <span class="se">\</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>--query <span class="s2">&quot;validationProperties.validationToken&quot;</span><span class="k">)</span>
</code></pre></div>
<p>Update Azure nameservers to match the top level domain with the new workshop user domain</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="k">for</span> i <span class="k">in</span> <span class="k">$(</span>az network dns zone show -g <span class="nv">$DNS_RG</span> -n <span class="nv">$TOP_DOMAIN</span> --query <span class="s2">&quot;nameServers&quot;</span> -o tsv<span class="k">)</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="k">do</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>az network dns record-set ns add-record -g <span class="nv">$USERID</span> -z <span class="nv">$DOMAIN</span> -d <span class="nv">$i</span> -n @
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="k">done</span>
</code></pre></div>
<p>Create a new text record in your DNS server</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>az network dns record-set txt add-record -g <span class="nv">$USERID</span> -z <span class="nv">$DOMAIN</span> -n _dnsauth.<span class="k">$(</span><span class="nb">echo</span> <span class="nv">$ARO_APP_FQDN</span> <span class="p">|</span> sed <span class="s1">&#39;s/\..*//&#39;</span><span class="k">)</span> --value <span class="nv">$afdToken</span> --record-set-name _dnsauth.<span class="k">$(</span><span class="nb">echo</span> <span class="nv">$ARO_APP_FQDN</span> <span class="p">|</span> sed <span class="s1">&#39;s/\..*//&#39;</span><span class="k">)</span>
</code></pre></div>
<p>Check if the domain has been validated:
*Note this would be a great time to take a break and grab a coffee ... it can take several minutes for Azure Front Door to validate your domain.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>az afd custom-domain list -g $ARORG --profile-name $AFD_NAME --query &quot;[? contains(hostName, &#39;$ARO_APP_FQDN&#39;)].domainValidationState&quot;
</code></pre></div>
<p>Get the Azure Front Door endpoint:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="nv">afdEndpoint</span><span class="o">=</span><span class="k">$(</span>az afd endpoint show -g <span class="nv">$ARORG</span> --profile-name <span class="nv">$AFD_NAME</span> --endpoint-name aro-ilb<span class="nv">$UNIQUEID</span> --query <span class="s2">&quot;hostName&quot;</span> -o tsv<span class="k">)</span>
</code></pre></div>
<p>Create a cname record for the application</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>az network dns record-set cname set-record -g <span class="nv">$USERID</span> -z <span class="nv">$DOMAIN</span> <span class="se">\</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a> -n <span class="k">$(</span><span class="nb">echo</span> <span class="nv">$ARO_APP_FQDN</span> <span class="p">|</span> sed <span class="s1">&#39;s/\..*//&#39;</span><span class="k">)</span> -z <span class="nv">$DOMAIN</span> -c <span class="nv">$afdEndpoint</span>
</code></pre></div>
<h3 id="congratations">Congratations!!<a class="headerlink" href="#congratations" title="Permanent link">#</a></h3>
<p>If you made it this far and setup Front Door yourself, pat yourself on the back.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d6c3db9e.min.js"></script>
      
    
  </body>
</html>